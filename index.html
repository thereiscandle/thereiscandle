<!doctype html>
<html lang="en">
<body>
  <main>
    <button id="start_demo">dfsdfsdfsdfsdef</button>
    <ul>
      <li>X-axis (&beta;): <span id="Orientation_b">0</span><span>&deg;</span></li>
      <li>Y-axis (&gamma;): <span id="Orientation_g">0</span><span>&deg;</span></li>
      <li>Z-axis (&alpha;): <span id="Orientation_a">0</span><span>&deg;</span></li>
    </ul>

  </main>

  <script>
    function handleOrientation(event) {
      updateFieldIfNotNull('Orientation_a', event.alpha);
      updateFieldIfNotNull('Orientation_b', event.beta);
      updateFieldIfNotNull('Orientation_g', event.gamma);
    }

    function updateFieldIfNotNull(fieldName, value, precision = 10) {
      if (value != null)
        document.getElementById(fieldName).innerHTML = value.toFixed(precision);
    }

    document.getElementById("start_demo").onclick = function (e) {
      e.preventDefault();

      // Request permission for iOS 13+ devices
      if (
        DeviceMotionEvent &&
        typeof DeviceMotionEvent.requestPermission === "function"
      ) {
        DeviceMotionEvent.requestPermission();
      }

      window.addEventListener("deviceorientation", handleOrientation);

    };

  </script>
</body>

</html>
